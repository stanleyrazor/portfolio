<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Stanley Sayianka">
<meta name="dcterms.date" content="2023-05-09">

<title>Stanley Sayianka - Portfolio construction for a fixed return investment objective</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Stanley Sayianka</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html" rel="" target="">
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../projects.html" rel="" target="">
 <span class="menu-text">Projects</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com" rel="" target=""><i class="bi bi-twitter" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Portfolio construction for a fixed return investment objective</h1>
            <p class="subtitle lead">A comparison of different approaches</p>
                                <div class="quarto-categories">
                <div class="quarto-category">Investments</div>
                <div class="quarto-category">Quant-finance</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Stanley Sayianka </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">May 9, 2023</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        
    </div>
<!-- main -->
<main class="content quarto-banner-title-block page-columns page-full" id="quarto-document-content">
<script defer="" src="https://cloud.umami.is/script.js" data-website-id="e2626c70-2118-4fa1-bf3c-49552f9b4ccf"></script>




<section id="strategy-specification" class="level1">
<h1>Strategy specification</h1>
<p>This report presents a quantitative investment strategy that aims to construct a portfolio that closely tracks a <span class="math inline">\(15\%\)</span> p.a. return, which acts as the minimum acceptable return for an investors. The strategy uses three different approaches to achieve this objective: minimum tracking error optimization, constrained least squares, target downside deviation, and target factor exposure optimization.</p>
<p>The strategy considers the top 10 stocks in NSE Kenya by market capitalization, plus a Money Market Fund, as the assets. The strategy is evaluated using anchored walk forward optimization, which is a robust back-testing method that optimizes the portfolio weights on multiple windows of data and tests them on out-of-sample data.</p>
<p>This report provides a comprehensive analysis of the performance and risk characteristics of the strategy and compares the results of the three approaches.</p>
</section>
<section id="investment-objective" class="level1 page-columns page-full">
<h1>Investment objective</h1>
<div class="page-columns page-full"><p>The strategy’s main goal is to offer investors a <span class="math inline">\(k\%\)</span> MAR<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>, which is set to <span class="math inline">\(15\%\)</span> p.a. in this document, by building a portfolio of equities and cash. The strategy follows various portfolio constraints to achieve this goal.</p><div class="no-row-height column-margin column-container"><li id="fn1"><p><sup>1</sup>&nbsp;MAR: Minimum Acceptable Return</p></li></div></div>
</section>
<section id="investment-constraints" class="level1">
<h1>Investment constraints</h1>
<p>The strategy has some constraints, such as a maximum allocation of <span class="math inline">\(70\%\)</span> to any single asset, to avoid over exposure to one asset. The strategy is also a fully invested, long only strategy, meaning that it uses all the capital and does not take short positions. The strategy adjusts its portfolio every three months to meet its objectives.</p>
</section>
<section id="investment-universe" class="level1">
<h1>Investment universe</h1>
<p>The strategy considers the top 10 stocks in NSE by market capitalization, plus a Money Market Fund, as the assets. This selection ensures the liquidity required for re-balancing.</p>
</section>
<section id="algorithm-and-models" class="level1 page-columns page-full">
<h1>Algorithm and models</h1>
<div class="page-columns page-full"><p>Targeting a <span class="math inline">\(15\%\)</span> MAR, could be formulated as an index tracking problem<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a>, where the index in this case is the <span class="math inline">\(15\%\)</span> MAR itself. Several approaches to this index tracking problem are considered in this article. The first is a method based on the tracking error, the second method is based on constrained least squares,the third method is based on target downside deviation optimization, and the fourth method is based on the target factor exposure optimization.</p><div class="no-row-height column-margin column-container"><li id="fn2"><p><sup>2</sup>&nbsp;An index tracking fund is an investment fund that is administered so that its value changes in line with a given share index. Source: Collins Dictionary</p></li></div></div>
<p>These four approaches have a similar objective which is: tracking the MAR effectively.</p>
<section id="the-tracking-error-approach" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="the-tracking-error-approach">The tracking error approach</h2>
<div class="page-columns page-full"><p>One way to solve the index tracking problem, is to use a minimization of tracking error optimization. The tracking error<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a> indicates how closely a portfolio follows a given index to which it is benchmarked. Tracking error is calculated as the standard deviation of the difference between the portfolio returns and the index returns.<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a></p><div class="no-row-height column-margin column-container"><li id="fn3"><p><sup>3</sup>&nbsp;The tracking error is a measure of the risk in an investment portfolio that is due to active portfolio management</p></li><li id="fn4"><p><sup>4</sup>&nbsp;The index return in this case is simply the <span class="math inline">\(15\%\)</span> return p.a.</p></li></div></div>
<p>A low tracking error means that the portfolio is closely aligned with the index, while a high tracking error means that the portfolio deviates significantly from the index.</p>
<p>We consider the construction of a portfolio based on the following constraints:</p>
<ul>
<li>Box Constraint: <span class="math inline">\(0 \leq w_i \leq 0.7\)</span> for all <span class="math inline">\(i\)</span>, where <span class="math inline">\(w_i\)</span> represents the weight of asset <span class="math inline">\(i\)</span> in the portfolio.</li>
<li>Long-Only: <span class="math inline">\(w_i \geq 0\)</span> for all <span class="math inline">\(i\)</span>, ensuring that the portfolio consists of long positions only.</li>
<li>Full Investment: <span class="math inline">\(\sum_{i} w_i = 1\)</span>, ensuring that the portfolio is fully invested.</li>
<li>Tracking Error: The portfolio aims to minimize the Tracking Error to the Minimum Acceptable Return (MAR) of 15% per annum.</li>
</ul>
<p>To formulate this problem mathematically, let <span class="math inline">\(r_i\)</span> be the return of asset <span class="math inline">\(i\)</span>, <span class="math inline">\(w_i\)</span> be the weight of asset <span class="math inline">\(i\)</span> in the portfolio, and <span class="math inline">\(m\)</span> represent the returns of the 15% MAR. The objective is to minimize the Tracking Error of the portfolio to the MAR. We can express this as follows:</p>
<p><span class="math display">\[
\text{Minimize:} \quad \sqrt{\sum_{i} (w_i \cdot r_i - m)^2}
\]</span></p>
<p><span class="math display">\[
\text{Subject to:} \quad 0 \leq w_i \leq 0.7, \quad \forall i
\]</span></p>
<p><span class="math display">\[
\quad w_i \geq 0, \quad \forall i
\]</span></p>
<p><span class="math display">\[
\quad \sum_{i} w_i = 1
\]</span></p>
<p>Solving this optimization problem will provide the optimal weights <span class="math inline">\(w_i\)</span> for constructing the portfolio that minimizes the Tracking Error to the MAR.</p>
</section>
<section id="the-constrained-least-squares-approach" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="the-constrained-least-squares-approach">The constrained least squares approach</h2>
<p>The second way to solve the index tracking problem is to use constrained least squares, which is a method that minimizes the squared difference between the portfolio returns and the index returns, subject to some constraints on the portfolio weights.</p>
<div class="page-columns page-full"><p>In this least squares formulation, the dependent variables are from our investment universe<a href="#fn5" class="footnote-ref" id="fnref5" role="doc-noteref"><sup>5</sup></a>, and the independent variable is the Minimum Acceptable Return (MAR) of <span class="math inline">\(15\%\)</span>.</p><div class="no-row-height column-margin column-container"><li id="fn5"><p><sup>5</sup>&nbsp;The 10 stocks + MMF</p></li></div></div>
<p>To formulate this problem mathematically, let <span class="math inline">\(x_j\)</span> be the return of stock <span class="math inline">\(i\)</span>, and let <span class="math inline">\(y\)</span> represent the weekly MAR. The objective is to find the optimal regression coefficients, denoted as <span class="math inline">\(\beta_j\)</span>, subject to the following constraints:</p>
<ul>
<li>Box Constraint: <span class="math inline">\(0 \leq \beta_j \leq 0.7\)</span> for all <span class="math inline">\(j\)</span>, where <span class="math inline">\(\beta_i\)</span> represents the weight of asset <span class="math inline">\(j\)</span> in the portfolio.</li>
<li>Long-Only: <span class="math inline">\(\beta_j \geq 0\)</span> for all <span class="math inline">\(j\)</span>, ensuring that the portfolio consists of long positions only.</li>
<li>Full Investment: <span class="math inline">\(\sum_{j} \beta_j = 1\)</span>, ensuring that the portfolio is fully invested.</li>
</ul>
<p>The optimization problem can be formulated as follows:</p>
<p><span class="math display">\[
\text{Minimize:} \quad \sum_{j} (y - \beta_j \cdot x_j)^2
\]</span></p>
<p><span class="math display">\[
\text{Subject to:} \quad 0 \leq \beta_j \leq 0.7, \quad \forall j
\]</span></p>
<p><span class="math display">\[
\quad \sum_{j} \beta_j = 1
\]</span></p>
<p>By solving this optimization problem, we can determine the optimal values of <span class="math inline">\(\beta_i\)</span>, which represent the weights of the stocks in the portfolio.</p>
</section>
<section id="target-downside-deviation-optimization-approach" class="level2">
<h2 class="anchored" data-anchor-id="target-downside-deviation-optimization-approach">Target downside deviation optimization approach</h2>
<p>The third approach to the index tracking problem is to use downside deviation, which is a measure of the downside risk of a portfolio. Downside deviation is the average of the squared differences between the portfolio returns and the target index returns, only when the portfolio returns are below the target index.</p>
<p>In this section, we formulate the index tracking problem as a portfolio optimization problem that minimizes the downside deviation between the portfolio returns and the <span class="math inline">\(15\%\)</span> p.a. index, subject to some constraints on the portfolio weights.</p>
<p>Let’s consider a portfolio construction problem with the following constraints:</p>
<ul>
<li>Box Constraint: <span class="math inline">\(0 \leq w_i \leq 0.7\)</span> for all <span class="math inline">\(i\)</span>, where <span class="math inline">\(w_i\)</span> represents the weight of asset <span class="math inline">\(i\)</span> in the portfolio.</li>
<li>Long-Only: <span class="math inline">\(w_i \geq 0\)</span> for all <span class="math inline">\(i\)</span>, ensuring that the portfolio consists of long positions only.</li>
<li>Full Investment: <span class="math inline">\(\sum_{i} w_i = 1\)</span>, ensuring that the portfolio is fully invested.</li>
<li>Downside Deviation Risk: The portfolio aims to minimize the downside deviation from a Minimum Acceptable Return (MAR) of <span class="math inline">\(15\%\)</span> per annum.</li>
</ul>
<p>To formulate this problem mathematically, let <span class="math inline">\(r_i\)</span> be the return of asset <span class="math inline">\(i\)</span> and <span class="math inline">\(w_i\)</span> be the weight of asset <span class="math inline">\(i\)</span> in the portfolio. The objective is to minimize the downside deviation from the MAR. We can express this as follows:</p>
<p><span class="math display">\[
\text{Minimize:} \quad \sqrt{\frac{1}{n} \sum_{i} \left(\min(0, r_i - \text{MAR})\right)^2}
\]</span></p>
<p><span class="math display">\[
\text{Subject to:} \quad 0 \leq w_i \leq 0.7, \quad \forall i
\]</span></p>
<p><span class="math display">\[
\quad \sum_{i} w_i = 1
\]</span></p>
<p>Here, <span class="math inline">\(n\)</span> represents the number of assets in the portfolio.</p>
<p>Solving this optimization problem will provide the optimal weights <span class="math inline">\(w_i\)</span> for constructing the portfolio.</p>
</section>
<section id="target-factor-exposure-optimization-approach" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="target-factor-exposure-optimization-approach">Target factor exposure optimization approach</h2>
<div class="page-columns page-full"><p>In the fourth approach, we formulate the index tracking problem as a portfolio optimization problem that minimizes the factor exposure of the portfolio to the <span class="math inline">\(15\%\)</span> index, subject to the given constraints on the portfolio weights. We set the target factor exposure to zero, implying a zero slope, hence perfect tracking.<a href="#fn6" class="footnote-ref" id="fnref6" role="doc-noteref"><sup>6</sup></a></p><div class="no-row-height column-margin column-container"><li id="fn6"><p><sup>6</sup>&nbsp;Since the 15% MAR is simply a constant line of points, then a perfect tracking portfolio would pass through these points, and have an intercept equal to the MAR, and a slope of 0.</p></li></div></div>
<p>In this approach, we consider a portfolio construction problem with the following constraints:</p>
<ul>
<li>Box Constraint: <span class="math inline">\(0 \leq w_i \leq 0.7\)</span> for all <span class="math inline">\(i\)</span>, where <span class="math inline">\(w_i\)</span> represents the weight of asset <span class="math inline">\(i\)</span> in the portfolio.</li>
<li>Long-Only: <span class="math inline">\(w_i \geq 0\)</span> for all <span class="math inline">\(i\)</span>, ensuring that the portfolio consists of long positions only.</li>
<li>Full Investment: <span class="math inline">\(\sum_{i} w_i = 1\)</span>, ensuring that the portfolio is fully invested.</li>
<li>Factor Exposure: The portfolio aims to minimize the factor exposure to a Minimum Acceptable Return (MAR) of <span class="math inline">\(15\%\)</span> per annum, with a target factor exposure of 0.</li>
</ul>
<p>To formulate this problem mathematically, let <span class="math inline">\(r_i\)</span> be the return of asset <span class="math inline">\(i\)</span>, <span class="math inline">\(w_i\)</span> be the weight of asset <span class="math inline">\(i\)</span> in the portfolio and <span class="math inline">\(y\)</span> be the <span class="math inline">\(15\%\)</span> index. The objective is to minimize the factor exposure to the MAR. We can express this as follows:</p>
<p><span class="math display">\[
\text{Given:} \quad y = \beta_o + \beta_1 \times (r_i \cdot w_i)
\]</span></p>
<p><span class="math display">\[
\text{Minimize:} \quad |\beta_1| \hspace{2 mm} \text{with target: } \hspace{2 mm} |\beta_1| = 0
\]</span></p>
<p><span class="math display">\[
\text{Subject to:} \quad 0 \leq w_i \leq 0.7, \quad \forall i
\]</span></p>
<p><span class="math display">\[
\quad w_i \geq 0, \quad \forall i
\]</span></p>
<p><span class="math display">\[
\quad \sum_{i} w_i = 1
\]</span></p>
<p>Here, <span class="math inline">\(n\)</span> represents the number of assets in the portfolio.</p>
<p>Solving this optimization problem will provide the optimal weights <span class="math inline">\(w_i\)</span> for constructing the portfolio.</p>
</section>
</section>
<section id="analysis-report" class="level1 page-columns page-full">
<h1>Analysis report</h1>
<div class="page-columns page-full"><p>This section shows the results of our strategy analysis for the 13-year historical period<a href="#fn7" class="footnote-ref" id="fnref7" role="doc-noteref"><sup>7</sup></a> and aims to assess the strategy’s performance and its potential for future investment.</p><div class="no-row-height column-margin column-container"><li id="fn7"><p><sup>7</sup>&nbsp;January 2009 - December 2022</p></li></div></div>
<section id="data" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="data">Data</h2>
<div class="page-columns page-full"><p>The data consists of the weekly returns of top 10 stocks listed in NSE Kenya by market capitalization, plus a Money Market Fund<a href="#fn8" class="footnote-ref" id="fnref8" role="doc-noteref"><sup>8</sup></a>, for the period from January 2009 to December 2022.</p><div class="no-row-height column-margin column-container"><li id="fn8"><p><sup>8</sup>&nbsp;Zimele MMF</p></li></div></div>
<p>The backtesting method is anchored walk forward optimization, which is a technique that divides the data into multiple windows and optimizes the portfolio weights on each window using the target MAR of 15% as the objective function.</p>
<div class="cell page-columns page-full">

<div class="no-row-height column-margin column-container"><div class="cell-output-display">
<p><img src="index_files/figure-html/p1-1.png" class="img-fluid" width="672"></p>
</div></div></div>
<p>The optimized weights are then applied to the next window and the performance of the portfolio is measured. We repeat this process until we cover all the data and obtain a series of out-of-sample results.</p>
<div class="cell" data-hash="index_cache/html/s3_5a216bbabf18aa2173adc9709feaccb1">
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 60%">
<col style="width: 9%">
<col style="width: 30%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Company Name</th>
<th style="text-align: left;">Ticker</th>
<th style="text-align: left;">Industry</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Safaricom Plc Ord 0.05</td>
<td style="text-align: left;">SCOM</td>
<td style="text-align: left;">Telecommunications</td>
</tr>
<tr class="even">
<td style="text-align: left;">Equity Group Holdings Plc Ord 0.50</td>
<td style="text-align: left;">EQTY</td>
<td style="text-align: left;">Banking</td>
</tr>
<tr class="odd">
<td style="text-align: left;">KCB Group Plc Ord 1.00</td>
<td style="text-align: left;">KCB</td>
<td style="text-align: left;">Banking</td>
</tr>
<tr class="even">
<td style="text-align: left;">East African Breweries Ltd Ord 2.00</td>
<td style="text-align: left;">EABL</td>
<td style="text-align: left;">Manufacturing &amp; Allied</td>
</tr>
<tr class="odd">
<td style="text-align: left;">The Co-operative Bank of Kenya Ltd Ord 1.00</td>
<td style="text-align: left;">COOP</td>
<td style="text-align: left;">Banking</td>
</tr>
<tr class="even">
<td style="text-align: left;">Absa Bank Kenya PLC</td>
<td style="text-align: left;">ABSA</td>
<td style="text-align: left;">Banking</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Standard Chartered Bank Kenya Ltd Ord 5.00</td>
<td style="text-align: left;">SCBK</td>
<td style="text-align: left;">Banking</td>
</tr>
<tr class="even">
<td style="text-align: left;">British American Tobacco Kenya Plc Ord 10.00</td>
<td style="text-align: left;">BAT</td>
<td style="text-align: left;">Manufacturing &amp; Allied</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Stanbic Holdings Plc ord.5.00</td>
<td style="text-align: left;">SBIC</td>
<td style="text-align: left;">Banking</td>
</tr>
<tr class="even">
<td style="text-align: left;">NIC Group Plc Ord 5.00</td>
<td style="text-align: left;">NCBA</td>
<td style="text-align: left;">Banking</td>
</tr>
<tr class="odd">
<td style="text-align: left;">MMF</td>
<td style="text-align: left;">MMF</td>
<td style="text-align: left;">Cash/Cash Equivalents</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>The equity growth comparison curves are shown below, assuming a starting capital of 100,000 KES for the period under consideration:</p>
<div class="cell" data-hash="index_cache/html/s4_84853fb793321c2339823dfbcb253658">
<div class="cell-output-display">
<p><img src="index_files/figure-html/s4-1.png" class="img-fluid" width="864"></p>
</div>
</div>
<p>From the above chart,it is evident that the constrained LS approach gave the best risk adjusted performance, while the minimum tracking error approach gave the highest end equity. The target factor exposure approach has a highly volatile equity curve, with a large drawdown making it unattractive.</p>
<p>It is also clear that post September 2015, the performance of the 4 portfolios as compared to the benchmark declines, although the top 3 strategies maintain a strong linear trend.</p>
<p>A benchmarking comparison for the four approaches is shown below:</p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>CLS is the constrained least squares, TDD - The target downside deviation, TFE - the target factor exposure, MTE - the minimum tracking error approach</caption>
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: left;">CLS</th>
<th style="text-align: left;">TDD</th>
<th style="text-align: left;">TFE</th>
<th style="text-align: left;">MTE</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Semi Deviation</td>
<td style="text-align: left;">0.440%</td>
<td style="text-align: left;">0.51%</td>
<td style="text-align: left;">1.78%</td>
<td style="text-align: left;">0.54%</td>
</tr>
<tr class="even">
<td style="text-align: left;">Gain Deviation</td>
<td style="text-align: left;">0.450%</td>
<td style="text-align: left;">0.57%</td>
<td style="text-align: left;">2.07%</td>
<td style="text-align: left;">0.51%</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Loss Deviation</td>
<td style="text-align: left;">0.420%</td>
<td style="text-align: left;">0.49%</td>
<td style="text-align: left;">1.65%</td>
<td style="text-align: left;">0.56%</td>
</tr>
<tr class="even">
<td style="text-align: left;">Downside Deviation (MAR=15%)</td>
<td style="text-align: left;">0.490%</td>
<td style="text-align: left;">0.56%</td>
<td style="text-align: left;">1.83%</td>
<td style="text-align: left;">0.58%</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Downside Deviation (Rf=0%)</td>
<td style="text-align: left;">0.360%</td>
<td style="text-align: left;">0.43%</td>
<td style="text-align: left;">1.69%</td>
<td style="text-align: left;">0.46%</td>
</tr>
<tr class="even">
<td style="text-align: left;">Downside Frequency</td>
<td style="text-align: left;">58.520%</td>
<td style="text-align: left;">57.63%</td>
<td style="text-align: left;">54.22%</td>
<td style="text-align: left;">54.67%</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Modified VaR (95%)</td>
<td style="text-align: left;">0.820%</td>
<td style="text-align: left;">0.87%</td>
<td style="text-align: left;">3.28%</td>
<td style="text-align: left;">1.04%</td>
</tr>
<tr class="even">
<td style="text-align: left;">Modified ES (95%)</td>
<td style="text-align: left;">1.320%</td>
<td style="text-align: left;">0.95%</td>
<td style="text-align: left;">3.28%</td>
<td style="text-align: left;">2.09%</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Omega</td>
<td style="text-align: left;">0.6848</td>
<td style="text-align: left;">0.7154</td>
<td style="text-align: left;">0.9073</td>
<td style="text-align: left;">0.7277</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>Charts showing the asset allocation across time as well as the diversification as measured by the HHI statistic are shown below:</p>
<div class="cell" data-hash="index_cache/html/s6_1592adf93d2394c8ae7a384883c55665">
<div class="cell-output-display">
<p><img src="index_files/figure-html/s6-1.png" class="img-fluid" width="864"></p>
</div>
</div>
<p>The chart indicates that for the 3 leading strategies, there is a huge allocation of capital to the MMF, than to other assets.</p>
<p>The constrained LS solution assigned the maximum allocation(<span class="math inline">\(70\%\)</span>) to the MMF at all periods, and would distribute the remaining <span class="math inline">\(30\%\)</span> to the rest.</p>
<p>The Target Factor Exposure solution assigned a high allocation to ticker: SBIC, and COOP majority of the times, with the rest having their second highest allocations mostly on ticker: BAT and SCOM.</p>
<p>A graph of the diversification target based on Herfindahl Hirschman Index is shown below:</p>
<div class="cell" data-hash="index_cache/html/s7_c988a07989d73c421124267731bea8b7">
<div class="cell-output-display">
<p><img src="index_files/figure-html/s7-1.png" class="img-fluid" width="960"></p>
</div>
</div>
<p>The diversification for the target factor exposure is higher than the rest, since it avoids the trap of over-allocation to the MMF, but that certainly does not help its performance. The rest of the strategies have diversification values of about <span class="math inline">\(50\%\)</span> across the times considered.</p>
</section>
</section>
<section id="conclusion" class="level1">
<h1>Conclusion</h1>
<p>Based on the findings of the four strategies considered for the fixed return investment objective, then: the Minimum Tracking Error approach, or the Constrained Least Squares approach is preferred due to the attractiveness of their risk return properties, as compared to the rest.</p>
<p>It is also important to note that, past September 2015, the four strategies fail to consistently track the 15% chosen index.</p>
</section>
<section id="further-work" class="level1">
<h1>Further work</h1>
<p>Exploring enhanced index tracking, which allows for closely replicating the performance of a specific benchmark index, such as the our 15% MAR, while seeking to outperform it by applying various active management techniques.</p>


</section>


</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>